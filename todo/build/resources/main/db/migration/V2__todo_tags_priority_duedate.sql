ALTER TABLE todos
  ADD COLUMN priority VARCHAR(20) NULL,
  ADD COLUMN due_date DATETIME NULL;

CREATE TABLE IF NOT EXISTS tags (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50) NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS todo_tags (
  todo_id BIGINT NOT NULL,
  tag_id BIGINT NOT NULL,
  PRIMARY KEY (todo_id, tag_id),
  CONSTRAINT fk_todo_tags_todo FOREIGN KEY (todo_id) REFERENCES todos(id) ON DELETE CASCADE,
  CONSTRAINT fk_todo_tags_tag FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
);


